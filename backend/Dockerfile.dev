# Simple development Dockerfile for Spring Boot
FROM openjdk:17-jdk-slim

WORKDIR /app

# Install Gradle
RUN apt-get update && \
    apt-get install -y wget unzip && \
    wget https://services.gradle.org/distributions/gradle-8.5-bin.zip && \
    unzip gradle-8.5-bin.zip && \
    mv gradle-8.5 /opt/gradle && \
    rm gradle-8.5-bin.zip && \
    apt-get remove -y wget unzip && \
    apt-get clean

ENV PATH="/opt/gradle/bin:${PATH}"

# Copy source files
COPY . .

EXPOSE 8080

# Run Spring Boot in development mode
CMD ["gradle", "bootRun", "--no-daemon"]